<!DOCTYPE html>
<html>

<head>
    <title>Document Object Model:30 Days Of JavaScript</title>
</head>

<body>
    <input type="text" name="" id="text">
    <input type="date" id="date">
    <button id="submit">Add</button>
    <ul id="display">

    </ul>

    <script>
        const enterText = document.getElementById('text')
        const add = document.getElementById('submit')
        const display = document.getElementById('display')
        const dateEl = document.getElementById('date')

        let list = [{
            name: 'coffee',
            date: '2020-2-20'
        }, {
            name: 'tea',
            date: '2020-3-13'
        }, {
            name: 'rice',
            date: '2020-3-29'
        }]

        add.addEventListener('click', () => {
            let newTodo = enterText.value
            let newDate = dateEl.value
            const objNew = {
                name:newTodo,
                date:newDate
            }
            
            if (newTodo.trim() && newDate !== '') {
                list.push(objNew);
                console.log(list);
                render(objNew, list.length - 1); // Append the new todo to the display
                enterText.value = ''; // Clear the input field after adding the todo
            }

        })

        function render(objNew, i) {
            let title = document.createElement('li')
            title.className = 'title'
            title.style.fontSize = '24px'
            title.textContent = objNew.name 
            let spanEl = document.createElement('span')
            spanEl.textContent = objNew.date 
            display.appendChild(title)
            title.appendChild(spanEl)


            let deletbtn = document.createElement('button')
            deletbtn.textContent = 'delete'
            title.appendChild(deletbtn)
            deletbtn.addEventListener('click', () => {
                list.splice(i, 1)
                display.removeChild(title)
            })

        }

        for (let i = 0; i < list.length; i++) {

            render(list[i], i)
        }



    </script>
</body>

</html>